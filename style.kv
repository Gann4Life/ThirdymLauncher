WindowManager:
    MainWindow:
    DownloadWindow:

<MainWindow>:
    name: "main"
    
    GridLayout:
        cols: 1
        Button:
            text: "Begin Download"
            on_release:
                app.root.current = "download"
        
<DownloadWindow>:
    name: "download"

    progressBar: pbar
    progressText: ptext
    backButton: backbtn
    
    on_enter:
        root.begin_download()

    GridLayout:
        cols: 1
        Label:
            id: ptext
            text: "0%"
        ProgressBar:
            id: pbar

        Button:
            id: backbtn
            text: "Back"
            on_release:
                app.root.current = "main"
                root.cancel_download()